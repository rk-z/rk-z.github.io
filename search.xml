<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/08/28/hello-world/"/>
      <url>/2020/08/28/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MongoDB安装与权限控制</title>
      <link href="/2019/03/18/MongoDB%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
      <url>/2019/03/18/MongoDB%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h4 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h4><p>略……  </p><p>MongoDB默认设置为无权限访问限制，并且监听在0.0.0.0之上的，需要我们自己配置权限 </p><h4 id="1-添加管理员账号用于创建账户使用"><a href="#1-添加管理员账号用于创建账户使用" class="headerlink" title="1.添加管理员账号用于创建账户使用"></a>1.添加管理员账号用于创建账户使用</h4><p>使用 <code>mongo</code> 登录数据库  </p><a id="more"></a><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Ryan:~ ryan$ mongo  </span><br><span class="line">MongoDB shell version v4.0.6  </span><br><span class="line">connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb  </span><br><span class="line">Implicit session: session &#123; &quot;id&quot; : UUID(&quot;d93cc614-4f1f-4619-986c-455467276a49&quot;) &#125;  </span><br><span class="line">MongoDB server version: 4.0.6  </span><br></pre></td></tr></table></figure><p>切换数据 <code>use admin</code>  </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> use admin</span></span><br><span class="line">switched to db admin</span><br><span class="line"><span class="meta">&gt;</span></span><br></pre></td></tr></table></figure><p>创建管理员账号 <code>db.createUser(&#123;user:&#39;admin&#39;,pwd:&#39;admin&#39;,roles:[&#123;role:&quot;userAdminAnyDatabase&quot;,db:&quot;admin&quot;&#125;]&#125;)</code>  </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> db.createUser(&#123;user:<span class="string">&#x27;admin&#x27;</span>,<span class="built_in">pwd</span>:<span class="string">&#x27;admin&#x27;</span>,roles:[&#123;role:<span class="string">&quot;userAdminAnyDatabase&quot;</span>,db:<span class="string">&quot;admin&quot;</span>&#125;]&#125;)</span></span><br><span class="line">2019-03-18T14:43:26.621+0800 E QUERY    [js] TypeError: db.create is not a function :</span><br><span class="line">@(shell):1:1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.createUser(&#123;user:<span class="string">&#x27;admin&#x27;</span>,<span class="built_in">pwd</span>:<span class="string">&#x27;admin&#x27;</span>,roles:[&#123;role:<span class="string">&#x27;userAdminAnyDatabase&#x27;</span>,db:<span class="string">&#x27;admin&#x27;</span>&#125;]&#125;)</span></span><br><span class="line">Successfully added user: &#123;</span><br><span class="line">&quot;user&quot; : &quot;admin&quot;,</span><br><span class="line">&quot;roles&quot; : [</span><br><span class="line">&#123;</span><br><span class="line">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span><br><span class="line">&quot;db&quot; : &quot;admin&quot;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>注：文末配有 <code>roles</code> 的<a href="#roles">详细说明</a></em>  </p><p>刚刚我们的创建了一个可以用来创建修改用户的账户角色，现在我们的重新连接下mongo，并且创建一个账户    </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> use <span class="built_in">test</span>                  <span class="comment">####创建test数据库</span></span></span><br><span class="line">switched to db test</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.createUser(&#123;user:<span class="string">&quot;ryan&quot;</span>,<span class="built_in">pwd</span>:<span class="string">&quot;123456&quot;</span>,roles:[&#123;role:<span class="string">&quot;read&quot;</span>,db:<span class="string">&quot;test&quot;</span>&#125;]&#125;)             <span class="comment">####添加账户，但是提示权限问题</span></span></span><br><span class="line">2019-03-18T16:44:38.681+0800 E QUERY    [js] Error: couldn&#x27;t add user: command createUser requires authentication :</span><br><span class="line">_getErrorWithCode@src/mongo/shell/utils.js:25:13</span><br><span class="line">DB.prototype.createUser@src/mongo/shell/db.js:1491:15</span><br><span class="line">@(shell):1:1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use admin             <span class="comment">####回到admin（注意：在哪个库下创建的用户要回到对应库下验证账号）</span></span></span><br><span class="line">switched to db admin</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.auth(<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;admin&quot;</span>)              <span class="comment">####验证成功</span></span></span><br><span class="line">1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use <span class="built_in">test</span>                              <span class="comment">####想要给test添加用户一定要到test数据库中</span></span></span><br><span class="line">switched to db test</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.createUser(&#123;user:<span class="string">&quot;ryan&quot;</span>,<span class="built_in">pwd</span>:<span class="string">&quot;123456&quot;</span>,roles:[&#123;role:<span class="string">&quot;read&quot;</span>,db:<span class="string">&quot;test&quot;</span>&#125;]&#125;)             <span class="comment">####创建一直权限为只读的账户</span></span></span><br><span class="line">Successfully added user: &#123;</span><br><span class="line">&quot;user&quot; : &quot;ryan&quot;,</span><br><span class="line">&quot;roles&quot; : [</span><br><span class="line">&#123;</span><br><span class="line">&quot;role&quot; : &quot;read&quot;,</span><br><span class="line">&quot;db&quot; : &quot;test&quot;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> </span></span><br></pre></td></tr></table></figure><p>退出账户，我们继续来验证下  </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> use <span class="built_in">test</span>              <span class="comment">####进入test验证账户</span></span></span><br><span class="line">switched to db test</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> </span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.auth(<span class="string">&quot;ryan&quot;</span>,<span class="string">&quot;123456&quot;</span>)</span></span><br><span class="line">1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.test.find()        <span class="comment">####查询数据，可以查询</span></span></span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5c8f4de87128962d45e11183&quot;), &quot;name&quot; : &quot;Ryan&quot; &#125;</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.test.insert(&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Rex&quot;</span>&#125;)                <span class="comment">####尝试写入，报权限异常</span></span></span><br><span class="line">WriteCommandError(&#123;</span><br><span class="line">&quot;ok&quot; : 0,</span><br><span class="line">&quot;errmsg&quot; : &quot;not authorized on test to execute command &#123; insert: \&quot;test\&quot;, ordered: true, lsid: &#123; id: UUID(\&quot;3e272d66-7a7a-40e4-afdd-72f9cd6360f1\&quot;) &#125;, $db: \&quot;test\&quot; &#125;&quot;,</span><br><span class="line">&quot;code&quot; : 13,</span><br><span class="line">&quot;codeName&quot; : &quot;Unauthorized&quot;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>验证到了这里最基本的权限问题就大概能了解了，接下来我们重新登录下，将用户权限改为 <code>readWrite</code> 即可进行读写操作啦  </p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> use <span class="built_in">test</span></span></span><br><span class="line">switched to db test</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.updateUser(<span class="string">&quot;ryan&quot;</span>,&#123;roles:[&#123;role:<span class="string">&quot;readWrite&quot;</span>,db:<span class="string">&quot;test&quot;</span>&#125;]&#125;)              <span class="comment">####更新账号权限</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use admin</span></span><br><span class="line">switched to db admin</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.system.users.find().pretty()               <span class="comment">####查询所有账户</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> </span></span><br></pre></td></tr></table></figure><p><span id="roles">关于roles的角色说明：</span></p><ul><li><p>数据库用户角色</p><ul><li>read：允许用户读取指定数据库</li><li>readWrite：允许用户读写指定数据库</li></ul></li><li><p>数据库管理角色  </p><ul><li>dbAdmin：允许用户在指定数据库中执行管理函数，如索引创建、删除，查看统计或访问system.profile</li><li>dbOwner：允许用户向system.users集合写入，可以找指定数据库里创建、删除和管理用户</li><li>userAdmin：只在admin数据库中可用，赋予用户所有分片和复制集相关函数的管理权限。</li></ul></li><li><p>集群管理角色  </p><ul><li>clusterAdmin：授予管理集群的最高权限</li><li>clusterManager：授予管理和监控集群的权限</li><li>clusterMonitor：授予监控集群的权限，对监控工具具有readonly的权限</li><li>hostManager：管理Server</li></ul></li><li><p>备份恢复角色  </p><ul><li>backup：</li><li>restore：</li></ul></li><li><p>所有数据库角色</p><ul><li>readAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读权限</li><li>readWriteAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读写权限</li><li>userAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的userAdmin权限</li><li>dbAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的dbAdmin权限。</li></ul></li><li><p>超级用户角色  </p><ul><li>root：只在admin数据库中可用。超级账号，超级权限</li></ul></li><li><p>内部角色</p><ul><li>__system：</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>闲来无事写个查看日志的Shell脚本</title>
      <link href="/2018/07/09/%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97%E8%84%9A%E6%9C%AC/"/>
      <url>/2018/07/09/%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>突然发现公司大家看日志的方式都很繁琐，于是就想着不如写个脚本方便下大家，正好也练习下Shell<br>场景：公司服务端的日志统一放在<code>/opt/logs</code>目录下,每个文件夹独立命名，一般为服务名。日志统一命名为<code>spring.log</code><br>以下是Shell的内容:  </p><a id="more"></a><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">日志存放目录</span></span><br><span class="line">log_path=&quot;/opt/logs&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">日志文件名称</span></span><br><span class="line">log_file=&quot;spring.log&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">参数名</span></span><br><span class="line">param_name=$1</span><br><span class="line">if [[ ! $param_name ]]; then</span><br><span class="line">echo &quot;请输入以下文件名参数，如：crm；另外可指定读取日志条数，默认200条，示例命令：./logs.sh crm 500&quot;</span><br><span class="line">ls $log_path</span><br><span class="line">exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash">查看日志条数 默认200条</span></span><br><span class="line">log_size=$2</span><br><span class="line"><span class="meta">#</span><span class="bash">默认为500</span></span><br><span class="line">if [[ ! $log_size ]]; then</span><br><span class="line">log_size=200</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">num=0</span><br><span class="line">for i in $(ls $log_path | grep $param_name); do</span><br><span class="line">        service_name=$i</span><br><span class="line">        ((num=num+1));</span><br><span class="line">if [[ $num&gt;1 ]]; then</span><br><span class="line"><span class="meta">#</span><span class="bash">statements</span></span><br><span class="line">echo &quot;读取日志文件失败，匹配到多个文件目录,请选择以下目录：&quot;</span><br><span class="line">ls $log_path | grep $param_name</span><br><span class="line">break</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">if [[ $num -eq o ]]; then</span><br><span class="line">echo &quot;未找到匹配的服务目录，请从以下目录中选择：&quot;</span><br><span class="line">ls $log_path</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [[ $num -eq 1 ]]; then</span><br><span class="line">tail -n $log_size -f $log_path&quot;/&quot;$service_name&quot;/&quot;$log_file</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记录一次IDEA内存调优</title>
      <link href="/2018/06/20/IDEA%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98/"/>
      <url>/2018/06/20/IDEA%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98/</url>
      
        <content type="html"><![CDATA[<h4 id="今天从同事那学了一招IDEA优化，特别记录下："><a href="#今天从同事那学了一招IDEA优化，特别记录下：" class="headerlink" title="今天从同事那学了一招IDEA优化，特别记录下："></a>今天从同事那学了一招IDEA优化，特别记录下：</h4><blockquote><p>硬件环境 MacPor 16G</p></blockquote><ol><li><p>找到软件 <code>bin</code> 目录，编辑 <code>idea.vmoptions</code> 文件：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;Applications&#x2F;IntelliJ\ IDEA.app&#x2F;Contents&#x2F;bin&#x2F;</span><br><span class="line">vim idea.vmoptions</span><br></pre></td></tr></table></figure><a id="more"></a></li><li><p>打开文件后可以发现是一些虚拟机配置，我主要修改了<code>-Xms1024m （初始分配内存）</code>、 <code>-Xmx4096m （最大分配内存）</code> 以及新增了 <code>-XX:MaxPermSize=1024m （非堆内存）</code> ，以下是我的完整配置，可根据实际情况进行调整：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-Xms1024m</span><br><span class="line">-Xmx4096m</span><br><span class="line">-XX:MaxPermSize&#x3D;1024m</span><br><span class="line">-XX:ReservedCodeCacheSize&#x3D;240m</span><br><span class="line">-XX:+UseCompressedOops</span><br><span class="line">-Dfile.encoding&#x3D;UTF-8</span><br><span class="line">-XX:+UseConcMarkSweepGC</span><br><span class="line">-XX:SoftRefLRUPolicyMSPerMB&#x3D;50</span><br><span class="line">-ea</span><br><span class="line">-Dsun.io.useCanonCaches&#x3D;false</span><br><span class="line">-Djava.net.preferIPv4Stack&#x3D;true</span><br><span class="line">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class="line">-XX:-OmitStackTraceInFastThrow</span><br><span class="line">-Xverify:none</span><br><span class="line"></span><br><span class="line">-XX:ErrorFile&#x3D;$USER_HOME&#x2F;java_error_in_idea_%p.log</span><br><span class="line">-XX:HeapDumpPath&#x3D;$USER_HOME&#x2F;java_error_in_idea.hprof</span><br></pre></td></tr></table></figure></li><li><p>保存并重启IDEA，但是如何查看是否真的生效呢，我们还需要设置下IDEA让她显示内存：<code>Preference -&gt; Appearance 找到 Window Options 勾选 Show memory indicator</code><br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-95c2c65a9f9ffeb9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p></li><li><p>保存后可以看见右下角出现了内存使用使用情况，表明调优成功<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-5b29bbdc2906c583.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p></li><li><p>该方法应该适用于 <strong>WebStorm</strong> 有兴趣的同学可以试一试</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> IDEA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记录一次SpringCloud启动异常</title>
      <link href="/2018/05/16/%08springcloud%E5%BC%82%E5%B8%B8/"/>
      <url>/2018/05/16/%08springcloud%E5%BC%82%E5%B8%B8/</url>
      
        <content type="html"><![CDATA[<p>SpringCloud 项目启动报错 <code>ClassNotFoundException:org.springframework.beans.factory.ObjectProvider</code><br>两种解决方案：<br>一、修改 SpringBoot 版本</p><pre><code class="xml">    &lt;parent&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        &lt;version&gt;1.5.13.BUILD-SNAPSHOT&lt;/version&gt;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    &lt;/parent&gt;</code></pre><a id="more"></a><p>改为</p><pre><code class="xml">    &lt;parent&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    &lt;/parent&gt;</code></pre><p>二、修改版本管理器</p><pre><code class="xml">    &lt;dependencyManagement&gt;        &lt;dependencies&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;                &lt;version&gt;Brixton.RELEASE&lt;/version&gt;                &lt;type&gt;pom&lt;/type&gt;                &lt;scope&gt;import&lt;/scope&gt;            &lt;/dependency&gt;        &lt;/dependencies&gt;    &lt;/dependencyManagement&gt;</code></pre><p>改为</p><pre><code class="xml">    &lt;dependencyManagement&gt;        &lt;dependencies&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;!--changed--&gt;                &lt;version&gt;Brixton.SR4&lt;/version&gt; &lt;!--changed--&gt;                &lt;type&gt;pom&lt;/type&gt;                &lt;scope&gt;import&lt;/scope&gt;            &lt;/dependency&gt;        &lt;/dependencies&gt;    &lt;/dependencyManagement&gt;</code></pre><p><audio controls="controls" loop="loop"    src="http://dl.stream.qqmusic.qq.com/M800001J5QJL1pRQYB.mp3?vkey=C757DFEAC4A01A2F5565DDBA9203BC77C1CDB2A7FE7E01CC5381A83E1BFC8F2D70F52C0DB97AF1E04E7466A0BE928782B62F4951C0902E29&guid=5150825362&fromtag=1"/></p>]]></content>
      
      
      <categories>
          
          <category> SpringCloud </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> Exception </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac 下 IDEA+JRebel7.1.5 热启动配置</title>
      <link href="/2018/05/02/JRebel(IDEA)%E6%8F%92%E4%BB%B6/"/>
      <url>/2018/05/02/JRebel(IDEA)%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p><audio controls="controls" loop="loop"    src="http://dl.stream.qqmusic.qq.com/M800001J5QJL1pRQYB.mp3?vkey=C757DFEAC4A01A2F5565DDBA9203BC77C1CDB2A7FE7E01CC5381A83E1BFC8F2D70F52C0DB97AF1E04E7466A0BE928782B62F4951C0902E29&guid=5150825362&fromtag=1"/></p><h4 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h4><p>JRebel 版本7.1.5<br>破解工具：<a href="https://github.com/ilanyu/ReverseProxy.git">https://github.com/ilanyu/ReverseProxy.git</a><br>怕麻烦的可以直接下载整合的文件（插件+破解工具）:链接:<a href="https://pan.baidu.com/s/17DG2SQA3VIL-CnXkC8rivw">https://pan.baidu.com/s/17DG2SQA3VIL-CnXkC8rivw</a>  密码:9f2i</p><a id="more"></a><h4 id="二、安装IDEA插件"><a href="#二、安装IDEA插件" class="headerlink" title="二、安装IDEA插件"></a>二、安装IDEA插件</h4><p>选择下载的压缩包进行安装<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-47db1e9751a66f3b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>重启IDEA</p><h4 id="三、破解激活"><a href="#三、破解激活" class="headerlink" title="三、破解激活"></a>三、破解激活</h4><p>进入下载的文件目录执行脚本，查看帮助</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;ReverseProxy_darwin_amd64 -h</span><br><span class="line">Usage of .&#x2F;ReverseProxy_darwin_amd64:</span><br><span class="line">  -l string</span><br><span class="line">    listen on ip:port (default &quot;0.0.0.0:8888&quot;)</span><br><span class="line">  -r string</span><br><span class="line">    reverse proxy addr (default &quot;http:&#x2F;&#x2F;idea.lanyus.com:80&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>OK使用默认配置即可，启动脚本</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;ReverseProxy_darwin_amd64</span><br></pre></td></tr></table></figure><p><strong>挂起终端</strong><br>回到IDEA，打开JRebel激活页面<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-babb420ef6cba12d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>URL：<a href="http://127.0.0.1:8888/Ryan">http://127.0.0.1:8888/Ryan</a> (Ryan不是固定的随意写)<br>Email：随意填写即可</p><p>设置脱机【重要】<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-1d8f26db9c6dcbe6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>脱机成功之后便可以将之前挂起的终端关闭啦</p><h4 id="四、IDEA设置支持热启动（已设置可忽略）"><a href="#四、IDEA设置支持热启动（已设置可忽略）" class="headerlink" title="四、IDEA设置支持热启动（已设置可忽略）"></a>四、IDEA设置支持热启动（已设置可忽略）</h4><p>打开设置，勾选 Build project automatically<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-999b9aaafad1504d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><p>组合键 Shift+Ctrl+Alt+/，选择Registry…<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-afd8b896f2f0223d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>勾选 compiler.automake.allow.when.app.running<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-7c7f0d338dc3a845.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><h4 id="五、热启动测试"><a href="#五、热启动测试" class="headerlink" title="五、热启动测试"></a>五、热启动测试</h4><p>Run with JRebel 启动项目<br><img src= "/img/loading.gif" data-lazy-src="https://upload-images.jianshu.io/upload_images/7175882-553d9c95c3fdba2a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>控制台打印：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2018-04-26 18:39:18 JRebel: Found offline lease from local storage.. executing JRebel with offline licensing.</span><br><span class="line">2018-04-26 18:39:19 JRebel:  Starting logging to file: &#x2F;Users&#x2F;ryan&#x2F;.jrebel&#x2F;jrebel.log</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  #############################################################</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  JRebel Agent 7.1.5 (201801171200)</span><br><span class="line">2018-04-26 18:39:19 JRebel:  (c) Copyright ZeroTurnaround AS, Estonia, Tartu.</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  Over the last 2 days JRebel prevented</span><br><span class="line">2018-04-26 18:39:19 JRebel:  at least 2 redeploys&#x2F;restarts saving you about 0 hours.</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  License acquired from License Server: http:&#x2F;&#x2F;127.0.0.1:8888</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  Licensed to ryan.</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  You are using an offline license.</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:  #############################################################</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br><span class="line">2018-04-26 18:39:19 JRebel: A newer version &#39;2018.1.0&#39; is available for download</span><br><span class="line">2018-04-26 18:39:19 JRebel: from http:&#x2F;&#x2F;zeroturnaround.com&#x2F;software&#x2F;jrebel&#x2F;download&#x2F;</span><br><span class="line">2018-04-26 18:39:19 JRebel:</span><br></pre></td></tr></table></figure><p>修改代码，控制台打印：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2018-04-26 18:40:37 JRebel: Reloading class &#39;com.yiautos.authorize.web.UserController&#39;.</span><br><span class="line">2018-04-26 18:40:37 JRebel: Reconfiguring bean &#39;userController&#39; [com.yiautos.authorize.web.UserController]</span><br></pre></td></tr></table></figure><p>测试通过</p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IDEA </tag>
            
            <tag> Jreble </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
